# Supply Chain Security Tools for VMware Tanzu - Policy Controller

Supply Chain Security Tools - Policy Controller is a security tool that helps
operators ensure that the container images in their registry have not been
tampered with. Policy Controller is a Kubernetes Admission Controller that
allows operators to apply policies that verify container images have valid
signatures before being admitted to a cluster.

The Policy Controller:
- Verifies signatures on container images used by Kubernetes resources
- Enforces policies to allow or deny images being admitted a cluster
- NEW: Allows operators to define multiple policies in the cluster
- NEW: Allows operators to select which `namespaces` to enforce policies against
- NEW: Supports `cosign` signatures and keyless signing
- Adds metadata to verified resources according to their verification status


**TODO**: ^^ is this true - verify all for accuracy???

It enforces its policies against all resources that create `Pod`s as part of their lifecycle:

* `Pod`s,
* `ReplicaSet`s
* `Deployment`s
* `Job`s
* `StatefulSet`s
* `DaemonSet`s
* `CronJob`s.

This component is the successor to `Supply Chain Security Tools - Sign`, which is now deprecated. Support and maintenance for `Supply Chain Security Tools - Sign` will continue; please monitor Release Notes for updates. 

Supply Chain Security Tools - Policy Controller is based on Sigstore's Policy Controller, currently found in 
[Cosign](https://github.com/sigstore/cosign) (to be relocated to 
[Policy Controller](https://github.com/sigstore/policy-controller)) and is compatible only with `cosign` signatures. Visit the [Sigstore](https://www.sigstore.dev/) open source community and the [cosign](https://docs.sigstore.dev/cosign/overview) project to learn more about image signing and verification.

The Policy Controller component is a policy enforcement tool only. It DOES NOT sign images. Operators can configure image signing for their containers in several ways, including:
* Automatically through Tanzu Build Service
* Automatically through kpack
* By integrating [cosign](https://docs.sigstore.dev/cosign/overview) into their build pipelines

Image signatures generated by `cosign` will be stored in the same image registry location as the image itself, and Policy Controller will use registry credentials provided in the admission request or a Service Account to connect to the registry to verify a signature.

**TODO** Links above for configuring Signing through tbs/kpack

**TODO** is the below true??

To Install Supply Chain Security Tools - Policy Controller, see [Install Supply Chain Security Tools - Policy Controller
](install-scst-policy.md) 

NOTE: Installing Policy Controller will not enforce any policies by default. The operator must define a policy in the cluster before
the webhook can perform any signature verifications. See [Configuring Policy Controller](configuring.md) for details and sample policies.

**TODO** I suggest the details below aren't necessary on the overview page {adam 6/1/22}

Typically, the admission controller gets registry credentials from running resources and their service
accounts to authenticate against private registries at admission time.
There are other mechanisms that the webhook uses for finding credentials.
For more information about providing credentials, see
[Providing Credentials for the Webhook](configuring.md#provide-creds-for-package).
